# 分布式架构

## 架构的分类

架构一般分为业务架构，应用架构，技术架构。

1. 业务架构从概念层面帮助开发人员更好的理解系统，比如业务流程、业务模块、输入输出、业务域
2. 应用架构从逻辑层面帮助开发落地系统，如数据交互关系、应用形式、交互方式，是的整个系统逻辑上更容易理解，步入大家熟知的 SOA 就属于应用架构的范畴
3. 技术架构主要解决技术平台选型、如操作系统、中间件、设备、多机房、水平扩展、高可用等问题  



## 水平和垂直扩容

垂直伸缩：升级服务器

水平扩容：增加机器做集群。

## 引入负载均衡器

负载均衡算法：

1 轮询算法

2 随机法

3 原地址hash

4 加权轮询

5 最小连接数法

## Session问题

因为http是无状态的协议，所以引入session+cookie

每个会话独立存储。

### 分布式下session共享

服务器之间session复制，网络带宽会很大。

也会存很多session数据，

## 数据库压力大

数据库读写分离

分库分表